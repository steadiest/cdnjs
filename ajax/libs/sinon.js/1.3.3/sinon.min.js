"use strict";var sinon=(function(g){var j=typeof document!="undefined"&&document.createElement("div");var k=Object.prototype.hasOwnProperty;function t(v){var w=false;try{v.appendChild(j);w=j.parentNode==v}catch(u){return false}finally{try{v.removeChild(j)}catch(u){}}return w}function l(e){return j&&e&&e.nodeType===1&&t(e)}function b(e){return !!(e&&e.constructor&&e.call&&e.apply)}function i(u,e){for(var v in e){if(!k.call(u,v)){u[v]=e[v]}}}var r={wrapMethod:function f(v,w,y){if(!v){throw new TypeError("Should wrap property of object")}if(typeof y!="function"){throw new TypeError("Method wrapper should be function")}var e=v[w];if(!b(e)){throw new TypeError("Attempted to wrap "+(typeof e)+" property "+w+" as function")}if(e.restore&&e.restore.sinon){throw new TypeError("Attempted to wrap "+w+" which is already wrapped")}if(e.calledBefore){var x=!!e.returns?"stubbed":"spied on";throw new TypeError("Attempted to wrap "+w+" which is already "+x)}var u=k.call(v,w);v[w]=y;y.displayName=w;y.restore=function(){if(u){v[w]=e}else{delete v[w]}};y.restore.sinon=true;i(y,e);return y},extend:function p(v){for(var u=1,e=arguments.length;u<e;u+=1){for(var w in arguments[u]){if(arguments[u].hasOwnProperty(w)){v[w]=arguments[u][w]}if(arguments[u].hasOwnProperty("toString")&&arguments[u].toString!=v.toString){v.toString=arguments[u].toString}}}return v},create:function h(u){var e=function(){};e.prototype=u;return new e()},deepEqual:function c(w,e){if(r.match.isMatcher(w)){return w.test(e)}if(typeof w!="object"||typeof e!="object"){return w===e}if(l(w)||l(e)){return w===e}if(w===e){return true}var v=Object.prototype.toString.call(w);if(v!=Object.prototype.toString.call(e)){return false}if(v=="[object Array]"){if(w.length!==e.length){return false}for(var y=0,u=w.length;y<u;y+=1){if(!c(w[y],e[y])){return false}}return true}var A,x=0,z=0;for(A in w){x+=1;if(!c(w[A],e[A])){return false}}for(A in e){z+=1}if(x!=z){return false}return true},functionName:function s(u){var e=u.displayName||u.name;if(!e){var v=u.toString().match(/function ([^\s\(]+)/);e=v&&v[1]}return e},functionToString:function m(){if(this.getCall&&this.callCount){var e,v,u=this.callCount;while(u--){e=this.getCall(u).thisValue;for(v in e){if(e[v]===this){return v}}}}return this.displayName||"sinon fake"},getConfig:function(u){var e={};u=u||{};var v=r.defaultConfig;for(var w in v){if(v.hasOwnProperty(w)){e[w]=u.hasOwnProperty(w)?u[w]:v[w]}}return e},format:function(e){return""+e},defaultConfig:{injectIntoThis:true,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:true,useFakeServer:true},timesInWords:function d(e){return e==1&&"once"||e==2&&"twice"||e==3&&"thrice"||(e||0)+" times"},calledInOrder:function(v){for(var u=1,e=v.length;u<e;u++){if(!v[u-1].calledBefore(v[u])){return false}}return true},orderByFirstCall:function(e){return e.sort(function(w,u){var v=w.getCall(0);var y=u.getCall(0);var z=v&&v.callId||-1;var x=y&&y.callId||-1;return z<x?-1:1})},log:function(){},logError:function(e,u){var v=e+" threw exception: ";r.log(v+"["+u.name+"] "+u.message);if(u.stack){r.log(u.stack)}setTimeout(function(){u.message=v+u.message;throw u},0)},typeOf:function(u){if(u===null){return"null"}var e=Object.prototype.toString.call(u);return e.substring(8,e.length-1).toLowerCase()}};var n=typeof module=="object"&&typeof require=="function";if(n){try{g={format:require("buster-format")}}catch(q){}module.exports=r;module.exports.spy=require("./sinon/spy");module.exports.stub=require("./sinon/stub");module.exports.mock=require("./sinon/mock");module.exports.collection=require("./sinon/collection");module.exports.assert=require("./sinon/assert");module.exports.sandbox=require("./sinon/sandbox");module.exports.test=require("./sinon/test");module.exports.testCase=require("./sinon/test_case");module.exports.assert=require("./sinon/assert");module.exports.match=require("./sinon/match")}if(g){var o=r.create(g.format);o.quoteStrings=false;r.format=function(){return o.ascii.apply(o,arguments)}}else{if(n){try{var a=require("util");r.format=function(e){return typeof e=="object"?a.inspect(e):e}}catch(q){}}}return r}(typeof buster=="object"&&buster));