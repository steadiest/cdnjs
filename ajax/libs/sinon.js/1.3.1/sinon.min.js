"use strict";var sinon=(function(f){var i=typeof document!="undefined"&&document.createElement("div");var j=Object.prototype.hasOwnProperty;function s(u){var v=false;try{u.appendChild(i);v=i.parentNode==u}catch(t){return false}finally{try{u.removeChild(i)}catch(t){}}return v}function k(e){return i&&e&&e.nodeType===1&&s(e)}function h(t,e){for(var u in e){if(!j.call(t,u)){t[u]=e[u]}}}var q={wrapMethod:function d(u,w,y){if(!u){throw new TypeError("Should wrap property of object")}if(typeof y!="function"){throw new TypeError("Method wrapper should be function")}var e=u[w];var v=typeof e;if(v!="function"){throw new TypeError("Attempted to wrap "+v+" property "+w+" as function")}if(e.restore&&e.restore.sinon){throw new TypeError("Attempted to wrap "+w+" which is already wrapped")}if(e.calledBefore){var x=!!e.returns?"stubbed":"spied on";throw new TypeError("Attempted to wrap "+w+" which is already "+x)}var t=j.call(u,w);u[w]=y;y.displayName=w;y.restore=function(){if(t){u[w]=e}else{delete u[w]}};y.restore.sinon=true;h(y,e);return y},extend:function o(u){for(var t=1,e=arguments.length;t<e;t+=1){for(var v in arguments[t]){if(arguments[t].hasOwnProperty(v)){u[v]=arguments[t][v]}if(arguments[t].hasOwnProperty("toString")&&arguments[t].toString!=u.toString){u.toString=arguments[t].toString}}}return u},create:function g(t){var e=function(){};e.prototype=t;return new e()},deepEqual:function b(v,e){if(typeof v!="object"||typeof e!="object"){return v===e}if(k(v)||k(e)){return v===e}if(v===e){return true}var u=Object.prototype.toString.call(v);if(u!=Object.prototype.toString.call(e)){return false}if(u=="[object Array]"){if(v.length!==e.length){return false}for(var x=0,t=v.length;x<t;x+=1){if(!b(v[x],e[x])){return false}}return true}var z,w=0,y=0;for(z in v){w+=1;if(!b(v[z],e[z])){return false}}for(z in e){y+=1}if(w!=y){return false}return true},functionName:function r(t){var e=t.displayName||t.name;if(!e){var u=t.toString().match(/function ([^\s\(]+)/);e=u&&u[1]}return e},functionToString:function l(){if(this.getCall&&this.callCount){var e,u,t=this.callCount;while(t--){e=this.getCall(t).thisValue;for(u in e){if(e[u]===this){return u}}}}return this.displayName||"sinon fake"},getConfig:function(t){var e={};t=t||{};var u=q.defaultConfig;for(var v in u){if(u.hasOwnProperty(v)){e[v]=t.hasOwnProperty(v)?t[v]:u[v]}}return e},format:function(e){return""+e},defaultConfig:{injectIntoThis:true,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:true,useFakeServer:true},timesInWords:function c(e){return e==1&&"once"||e==2&&"twice"||e==3&&"thrice"||(e||0)+" times"},calledInOrder:function(u){for(var t=1,e=u.length;t<e;t++){if(!u[t-1].calledBefore(u[t])){return false}}return true},orderByFirstCall:function(e){return e.sort(function(v,t){var u=v.getCall(0);var x=t.getCall(0);var y=u&&u.callId||-1;var w=x&&x.callId||-1;return y<w?-1:1})},log:function(){},logError:function(e,t){var u=e+" threw exception: ";q.log(u+"["+t.name+"] "+t.message);if(t.stack){q.log(t.stack)}setTimeout(function(){t.message=u+t.message;throw t},0)}};var m=typeof module=="object"&&typeof require=="function";if(m){try{f={format:require("buster-format")}}catch(p){}module.exports=q;module.exports.spy=require("./sinon/spy");module.exports.stub=require("./sinon/stub");module.exports.mock=require("./sinon/mock");module.exports.collection=require("./sinon/collection");module.exports.assert=require("./sinon/assert");module.exports.sandbox=require("./sinon/sandbox");module.exports.test=require("./sinon/test");module.exports.testCase=require("./sinon/test_case");module.exports.assert=require("./sinon/assert")}if(f){var n=q.create(f.format);n.quoteStrings=false;q.format=function(){return n.ascii.apply(n,arguments)}}else{if(m){try{var a=require("util");q.format=function(e){return typeof e=="object"?a.inspect(e):e}}catch(p){}}}return q}(typeof buster=="object"&&buster));