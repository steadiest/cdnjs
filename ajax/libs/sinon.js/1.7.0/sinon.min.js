"use strict";var sinon=(function(g){var j=typeof document!="undefined"&&document.createElement("div");var k=Object.prototype.hasOwnProperty;function u(w){var x=false;try{w.appendChild(j);x=j.parentNode==w}catch(v){return false}finally{try{w.removeChild(j)}catch(v){}}return x}function l(e){return j&&e&&e.nodeType===1&&u(e)}function b(e){return typeof e==="function"||!!(e&&e.constructor&&e.call&&e.apply)}function i(v,e){for(var w in e){if(!k.call(v,w)){v[w]=e[w]}}}function q(e){return typeof e==="function"&&typeof e.restore==="function"&&e.restore.sinon}var s={wrapMethod:function f(w,x,z){if(!w){throw new TypeError("Should wrap property of object")}if(typeof z!="function"){throw new TypeError("Method wrapper should be function")}var e=w[x];if(!b(e)){throw new TypeError("Attempted to wrap "+(typeof e)+" property "+x+" as function")}if(e.restore&&e.restore.sinon){throw new TypeError("Attempted to wrap "+x+" which is already wrapped")}if(e.calledBefore){var y=!!e.returns?"stubbed":"spied on";throw new TypeError("Attempted to wrap "+x+" which is already "+y)}var v=k.call(w,x);w[x]=z;z.displayName=x;z.restore=function(){if(!v){delete w[x]}if(w[x]===z){w[x]=e}};z.restore.sinon=true;i(z,e);return z},extend:function r(w){for(var v=1,e=arguments.length;v<e;v+=1){for(var x in arguments[v]){if(arguments[v].hasOwnProperty(x)){w[x]=arguments[v][x]}if(arguments[v].hasOwnProperty("toString")&&arguments[v].toString!=w.toString){w.toString=arguments[v].toString}}}return w},create:function h(v){var e=function(){};e.prototype=v;return new e()},deepEqual:function c(x,e){if(s.match&&s.match.isMatcher(x)){return x.test(e)}if(typeof x!="object"||typeof e!="object"){return x===e}if(l(x)||l(e)){return x===e}if(x===e){return true}if((x===null&&e!==null)||(x!==null&&e===null)){return false}var w=Object.prototype.toString.call(x);if(w!=Object.prototype.toString.call(e)){return false}if(w=="[object Array]"){if(x.length!==e.length){return false}for(var z=0,v=x.length;z<v;z+=1){if(!c(x[z],e[z])){return false}}return true}var B,y=0,A=0;for(B in x){y+=1;if(!c(x[B],e[B])){return false}}for(B in e){A+=1}return y==A},functionName:function t(v){var e=v.displayName||v.name;if(!e){var w=v.toString().match(/function ([^\s\(]+)/);e=w&&w[1]}return e},functionToString:function m(){if(this.getCall&&this.callCount){var e,w,v=this.callCount;while(v--){e=this.getCall(v).thisValue;for(w in e){if(e[w]===this){return w}}}}return this.displayName||"sinon fake"},getConfig:function(v){var e={};v=v||{};var w=s.defaultConfig;for(var x in w){if(w.hasOwnProperty(x)){e[x]=v.hasOwnProperty(x)?v[x]:w[x]}}return e},format:function(e){return""+e},defaultConfig:{injectIntoThis:true,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:true,useFakeServer:true},timesInWords:function d(e){return e==1&&"once"||e==2&&"twice"||e==3&&"thrice"||(e||0)+" times"},calledInOrder:function(w){for(var v=1,e=w.length;v<e;v++){if(!w[v-1].calledBefore(w[v])||!w[v].called){return false}}return true},orderByFirstCall:function(e){return e.sort(function(x,v){var w=x.getCall(0);var z=v.getCall(0);var A=w&&w.callId||-1;var y=z&&z.callId||-1;return A<y?-1:1})},log:function(){},logError:function(e,v){var w=e+" threw exception: ";s.log(w+"["+v.name+"] "+v.message);if(v.stack){s.log(v.stack)}setTimeout(function(){v.message=w+v.message;throw v},0)},typeOf:function(v){if(v===null){return"null"}else{if(v===undefined){return"undefined"}}var e=Object.prototype.toString.call(v);return e.substring(8,e.length-1).toLowerCase()},createStubInstance:function(e){if(typeof e!=="function"){throw new TypeError("The constructor should be a function.")}return s.stub(s.create(e.prototype))},restore:function(e){if(e!==null&&typeof e==="object"){for(var v in e){if(q(e[v])){e[v].restore()}}}else{if(q(e)){e.restore()}}}};var n=typeof module=="object"&&typeof require=="function";if(n){try{g={format:require("buster-format")}}catch(p){}module.exports=s;module.exports.spy=require("./sinon/spy");module.exports.spyCall=require("./sinon/call");module.exports.stub=require("./sinon/stub");module.exports.mock=require("./sinon/mock");module.exports.collection=require("./sinon/collection");module.exports.assert=require("./sinon/assert");module.exports.sandbox=require("./sinon/sandbox");module.exports.test=require("./sinon/test");module.exports.testCase=require("./sinon/test_case");module.exports.assert=require("./sinon/assert");module.exports.match=require("./sinon/match")}if(g){var o=s.create(g.format);o.quoteStrings=false;s.format=function(){return o.ascii.apply(o,arguments)}}else{if(n){try{var a=require("util");s.format=function(e){return typeof e=="object"&&e.toString===Object.prototype.toString?a.inspect(e):e}}catch(p){}}}return s}(typeof buster=="object"&&buster));