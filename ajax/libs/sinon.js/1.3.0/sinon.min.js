"use strict";var sinon=(function(a){var b=typeof document!="undefined"&&document.createElement("div");var h=Object.prototype.hasOwnProperty;function o(t){var u=false;try{t.appendChild(b);u=b.parentNode==t}catch(s){return false}finally{try{t.removeChild(b)}catch(s){}}return u}function l(e){return b&&e&&e.nodeType===1&&o(e)}function m(s,e){for(var t in e){if(!h.call(s,t)){s[t]=e[t]}}}var c={wrapMethod:function p(t,v,x){if(!t){throw new TypeError("Should wrap property of object")}if(typeof x!="function"){throw new TypeError("Method wrapper should be function")}var e=t[v];var u=typeof e;if(u!="function"){throw new TypeError("Attempted to wrap "+u+" property "+v+" as function")}if(e.restore&&e.restore.sinon){throw new TypeError("Attempted to wrap "+v+" which is already wrapped")}if(e.calledBefore){var w=!!e.returns?"stubbed":"spied on";throw new TypeError("Attempted to wrap "+v+" which is already "+w)}var s=h.call(t,v);t[v]=x;x.displayName=v;x.restore=function(){if(s){t[v]=e}else{delete t[v]}};x.restore.sinon=true;m(x,e);return x},extend:function k(t){for(var s=1,e=arguments.length;s<e;s+=1){for(var u in arguments[s]){if(arguments[s].hasOwnProperty(u)){t[u]=arguments[s][u]}if(arguments[s].hasOwnProperty("toString")&&arguments[s].toString!=t.toString){t.toString=arguments[s].toString}}}return t},create:function g(s){var e=function(){};e.prototype=s;return new e()},deepEqual:function q(u,e){if(typeof u!="object"||typeof e!="object"){return u===e}if(l(u)||l(e)){return u===e}if(u===e){return true}var t=Object.prototype.toString.call(u);if(t!=Object.prototype.toString.call(e)){return false}if(t=="[object Array]"){if(u.length!==e.length){return false}for(var w=0,s=u.length;w<s;w+=1){if(!q(u[w],e[w])){return false}}return true}var y,v=0,x=0;for(y in u){v+=1;if(!q(u[y],e[y])){return false}}for(y in e){x+=1}if(v!=x){return false}return true},functionName:function j(s){var e=s.displayName||s.name;if(!e){var t=s.toString().match(/function ([^\s\(]+)/);e=t&&t[1]}return e},functionToString:function d(){if(this.getCall&&this.callCount){var e,t,s=this.callCount;while(s--){e=this.getCall(s).thisValue;for(t in e){if(e[t]===this){return t}}}}return this.displayName||"sinon fake"},getConfig:function(s){var e={};s=s||{};var t=c.defaultConfig;for(var u in t){if(t.hasOwnProperty(u)){e[u]=s.hasOwnProperty(u)?s[u]:t[u]}}return e},format:function(e){return""+e},defaultConfig:{injectIntoThis:true,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:true,useFakeServer:true},timesInWords:function r(e){return e==1&&"once"||e==2&&"twice"||e==3&&"thrice"||(e||0)+" times"},calledInOrder:function(t){for(var s=1,e=t.length;s<e;s++){if(!t[s-1].calledBefore(t[s])){return false}}return true},orderByFirstCall:function(e){return e.sort(function(u,s){var t=u.getCall(0);var w=s.getCall(0);var x=t&&t.callId||-1;var v=w&&w.callId||-1;return x<v?-1:1})},log:function(){},logError:function(e,s){var t=e+" threw exception: ";c.log(t+"["+s.name+"] "+s.message);if(s.stack){c.log(s.stack)}setTimeout(function(){s.message=t+s.message;throw s},0)}};var o=typeof module=="object"&&typeof require=="function";if(o){try{a={format:require("buster-format")}}catch(i){}module.exports=c;module.exports.spy=require("./sinon/spy");module.exports.stub=require("./sinon/stub");module.exports.mock=require("./sinon/mock");module.exports.collection=require("./sinon/collection");module.exports.assert=require("./sinon/assert");module.exports.sandbox=require("./sinon/sandbox");module.exports.test=require("./sinon/test");module.exports.testCase=require("./sinon/test_case");module.exports.assert=require("./sinon/assert")}if(a){var n=c.create(a.format);n.quoteStrings=false;c.format=function(){return n.ascii.apply(n,arguments)}}else{if(o){try{var f=require("util");c.format=function(e){return typeof e=="object"?f.inspect(e):e}}catch(i){}}}return c}(typeof buster=="object"&&buster));